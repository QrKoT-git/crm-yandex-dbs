
# YaCRM Модуль передачи цифровых ключей на Яндекс Маркет
## Готовая система для продавцов Яндекс Маркета, продающих по системе DBS (Цифровые товары)  
Подключается к API Яндекс Маркета
#  
- *Собирает информацию о товаре* (берет id товара для отправки ключа)  
-*Передает ключ методами Маркета.*
## Что есть в данной версии:  

- *4 Файла (Главная страница, 3 типа отправки ключей)*
- *2 метода отправки ключей: передача указанного текста и передача ссылки на ключ*
- *из файла с ключами (из файла берется строка с ссылкой и отправляетсч покупателю, затем строка удаляется)*
- *Позволяет быстро и оперативно решить проблему отправки ключей продавцам Яндекс Маркета*

## Установка и настройка

- *Загрузить архив на хостинг и распаковать*
- *Указать во всех .php файлах ид кампании(не кабинета) и токен*
- *Настроить пароль кабинета в `market.php*`*
- *В файле keys_pool.txt указать ссылки на ключи (каждая ссылка с новой строки)*

Файл order_pull_send.php отправляет ссылки из файла `keys_pull.txt`
- В файлах 
```
YaCRM/
├──order_pull_send.php
├──proxy_send.php
└──vless_send.php
```
Найти код:
```php
  // Отправляем цифровой ключ
    $urlDeliver = "https://api.partner.market.yandex.ru/campaigns/$campaignId/orders/$orderId/deliverDigitalGoods";

    $body = [
        "items" => [
            [
                "id" => $itemId,
                "codes" => [
                    "Пишем тут текстом цифровой ключ"
                ],
                "slip" => "Инструкция по активации ключа",
                "activate_till" => "25-08-2025"
            ]
        ]
    ];
```
И указать ключ, а так же заполнить инструкцию. Так же нужно указывать срок активации лицензии
После этого можете перейти по адресу `yourdomain.com/market.php` и проверить работу скрипта.
